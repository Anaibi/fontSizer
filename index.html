<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=0.1">
  <title>using screenshot</title>
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  <link href="css/style.css" rel="stylesheet">
</head>
<body>
  
  <div id="ractive-container" class="screen"></div>
  
  <script id="template" type="text/ractive">

    <div class="sidebar">

      <div class="file-uploader">
        <input class="blue big-button" name="file" placeholder="select file" value="{{imageInput}}">
        <button class="green small-button" on-click="loadImage" data-imgurl="{{imageInput}}">Upload</button>

        {{#if images}}
          <table>
            <caption>Used images</caption>
            {{#each images}}
              <tr>
                <td>{{this}}</td>
                <td><span class="delete" on-click="remove" title="delete">X</span></td>
                <td><span class="reload" on-click="reload" title="reload" data-imgurl={{this}}>+</span></td>
              </tr>
            {{/each}}
          </table>
        {{/if}}

        <p>Actual image url is: </p>
        <span class="blue big-button input">{{imageURL}}</span>
        <button class="green small-button" on-click="save" data-imgurl={{imageURL}}>Save</button>
      </div>

      <div>
        <button class="green big-button" on-click="start">Start getting measures</button>
        <button class="red small-button" on-click="restart">Reset</button>
      </div>

      <div class="instrus-text">
        <p>{{content}}</p>
        {{#if total}}
          <p>Click two points to get height.</p>
        {{/if}}
      </div>

      <div class="measures"> 
        {{#if total}}
          <table>
            <tr>
              <th>Id</th>
              <th>Measure</th>
              <th>Proportion</th>
            </tr>

            <tr>
              <td class="{{id}} id"><input class="blue input" value="{{id}}" on-mouseleave="saveId"></td>
              <td class="main" title="Main reference"><b>{{total}}px</b></td>
              <td title="Main reference"><b>100%</b></td>
              <td><span class="delete" on-click="restart">X</span></td>
            </tr>
    
            {{#if measures}}
              {{#each measures:i}}{{#if i>0}}
                <tr>
                  <td class="{{id}} id"><input class="blue input" value="{{id}}" on-mouseleave="saveId"></td>
                  <td>{{measure}}px</td>
                  <td>{{proportion}}%</td>
                  <td><span class="delete" on-click="remove">X</span></td>
                </tr>{{/if}}
              {{/each}}
            {{/if}}
          </table>
        {{/if}}
      </div>
    </div>

    <div class="content">
      <div class="img-container resizable canvas-parent">
        <img class="img-active" src="{{imageURL}}">
          {{^toggle}}{{>svg}}{{/}}
      </div>
    </div>
  </script>
  
  <script src="http://cdn.ractivejs.org/latest/ractive.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>

